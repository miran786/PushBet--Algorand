---
phase: 5
plan: 3
wave: 1
depends_on: [5.1]
files_modified: [src/app/components/StakeDialog.tsx]
autonomous: true
---

# Plan 5.3: Partner Staking & Player Selection

<objective>
Enable users to select a partner when in PARTNER mode in the Fitness Arena. The stake dialog should allow choosing from other test users.
</objective>

<context>
- src/app/pages/Arena.tsx
- src/app/components/StakeDialog.tsx
- server/seed-db.js
</context>

<tasks>

<task type="auto">
  <name>Add Player Selection to StakeDialog</name>
  <files>src/app/components/StakeDialog.tsx</files>
  <action>
    - If `mode === 'PARTNER'`, display a dropdown to select a partner.
    - Mock the list of partners using the other test users (`champ`, `fitness`, `monitor`, `test`).
    - Update `handleStake` to include the selected partner in the transaction note.
  </action>
  <verify>Check StakeDialog in PARTNER mode for the dropdown.</verify>
  <done>User can select a partner before staking in PARTNER mode.</done>
</task>

</tasks>

<success_criteria>
- [ ] Partner selection dropdown visible in PARTNER mode.
- [ ] Staking works with a selected partner.
</success_criteria>
