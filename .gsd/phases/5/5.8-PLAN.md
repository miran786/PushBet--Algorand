---
phase: 5
plan: 8
wave: 2
depends_on: [5.7]
files_modified: [src/app/pages/Marketplace.tsx]
autonomous: true
---

# Plan 5.8: Marketplace (Seller Photos & AI Negotiation)

<objective>
Enforce seller photo uploads in the Marketplace and implement an AI-driven negotiation chat using Gemini.
</objective>

<context>
- src/app/pages/Marketplace.tsx
</context>

<tasks>

<task type="auto">
  <name>Enforce Seller Photo Upload</name>
  <files>src/app/pages/Marketplace.tsx</files>
  <action>
    - Make `newItemImage` (photo) mandatory during minting/listing.
    - Add a visual indicator for "Verified Seller Photo" on listings.
  </action>
  <verify>Try listing an item without a photo; it should fail.</verify>
  <done>Photos are mandatory for all listings.</done>
</task>

<task type="auto">
  <name>Implement AI Negotiation Chat</name>
  <files>src/app/pages/Marketplace.tsx</files>
  <action>
    - Add a "Negotiate" button to each listing that opens a chat box.
    - Integrate Gemini AI to simulate the seller in the chat.
    - AI should use a "smart contract" persona to agree on a final price.
    - If agreement reached, update the `handleBuy` price dynamically or show an "Accept Agreed Price" button.
  </action>
  <verify>Open a negotiation chat and agree on a price with the AI.</verify>
  <done>Users can negotiate prices via AI chat.</done>
</task>

</tasks>

<success_criteria>
- [ ] Mandatory photos for listings.
- [ ] Functional AI negotiation chat with Gemini.
</success_criteria>
